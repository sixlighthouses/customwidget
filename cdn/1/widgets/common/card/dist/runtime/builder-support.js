System.register(["jimu-core","jimu-core/dnd","jimu-ui","jimu-layouts/layout-runtime","jimu-for-builder","jimu-layouts/layout-builder","jimu-theme"],(function(e,t){var o={},r={},n={},i={},s={},p={},d={};return{setters:[function(e){o.BrowserSizeMode=e.BrowserSizeMode,o.React=e.React,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){r.interact=e.interact},function(e){n.Button=e.Button,n.ButtonGroup=e.ButtonGroup,n.Dropdown=e.Dropdown,n.DropdownButton=e.DropdownButton,n.DropdownItem=e.DropdownItem,n.DropdownMenu=e.DropdownMenu,n.Popper=e.Popper},function(e){i.searchUtils=e.searchUtils},function(e){s.ContentServiceWrapper=e.ContentServiceWrapper,s.LayoutServiceProvider=e.LayoutServiceProvider,s.getAppConfigAction=e.getAppConfigAction,s.widgetService=e.widgetService},function(e){p.GLOBAL_DRAGGING_CLASS_NAME=e.GLOBAL_DRAGGING_CLASS_NAME,p.GLOBAL_H5_DRAGGING_CLASS_NAME=e.GLOBAL_H5_DRAGGING_CLASS_NAME,p.GLOBAL_RESIZING_CLASS_NAME=e.GLOBAL_RESIZING_CLASS_NAME},function(e){d.withBuilderTheme=e.withBuilderTheme}],execute:function(){e((()=>{"use strict";var e={48891:e=>{e.exports=o},54020:e=>{e.exports=r},23137:e=>{e.exports=s},77282:e=>{e.exports=p},74758:e=>{e.exports=i},34796:e=>{e.exports=d},30726:e=>{e.exports=n}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{a.r(u),a.d(u,{default:()=>d});var e=a(48891),t=a(54020),o=a(30726),r=a(74758),n=a(23137),i=a(77282);class s extends e.React.PureComponent{constructor(t){super(t),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:o}=this.props;if(void 0!==t)o&&o(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:o,onDropDownOpenChange:r}=this.props;void 0!==o?r&&r(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>{var t,o,r,n,i,s;const{theme:p}=this.props;return e.css`
      .card-toggle-button {
        background: ${null===(r=null===(o=null===(t=p.colors)||void 0===t?void 0:t.palette)||void 0===o?void 0:o.light)||void 0===r?void 0:r[500]};
        border: none;
        &:hover, &[aria-expanded="true"] {
          background: ${null===(s=null===(i=null===(n=p.colors)||void 0===n?void 0:n.palette)||void 0===i?void 0:i.light)||void 0===s?void 0:s[800]};
        }
      }
    `},this.state={isOpen:!1};const{withBuilderTheme:r}=t;this.MyDropdown=r?r(o.Dropdown):o.Dropdown,this.MyDropdownButton=r?r(o.DropdownButton):o.DropdownButton,this.MyDropdownMenu=r?r(o.DropdownMenu):o.DropdownMenu,this.MyDropdownItem=r?r(o.DropdownItem):o.DropdownItem}render(){const{items:t,toggleContent:o,toggleType:r,menuContent:n,modifiers:i,toggleIsIcon:s,theme:p,isDropDownOpen:d,size:a,appendToBody:u,toggleTitle:l,direction:c,menuCss:g,className:h,showActive:S,activeLabel:w,fluid:m}=this.props;let{isOpen:A}=this.state;A=void 0===d?A:d;const{MyDropdown:v,MyDropdownButton:y,MyDropdownMenu:I,MyDropdownItem:L}=this;return(0,e.jsx)(v,{size:a,toggle:this.onDropDownToggle,direction:c,fluid:m,isOpen:A,className:`my-dropdown ${h}`,css:this.getStyle()},o&&(0,e.jsx)(y,{icon:s,title:l,size:a,type:r,arrow:!1,className:"card-toggle-button"},o&&o(p)),(0,e.jsx)(I,{appendToBody:u,modifiers:i,css:g&&g(p)},n?n(p):t&&t.asMutable().map(((t,o)=>!t.hide&&(0,e.jsx)(L,{key:o,className:"no-user-select",active:S&&t.label===w,onClick:e=>{this.onItemClick(e,t)}},t.label)))))}}var p=a(34796);const d={ButtonGroup:o.ButtonGroup,interact:t.interact,searchUtils:r.searchUtils,getAppConfigAction:n.getAppConfigAction,ContentServiceWrapper:n.ContentServiceWrapper,LayoutServiceProvider:n.LayoutServiceProvider,widgetService:n.widgetService,GLOBAL_DRAGGING_CLASS_NAME:i.GLOBAL_DRAGGING_CLASS_NAME,GLOBAL_RESIZING_CLASS_NAME:i.GLOBAL_RESIZING_CLASS_NAME,GLOBAL_H5_DRAGGING_CLASS_NAME:i.GLOBAL_H5_DRAGGING_CLASS_NAME,withBuilderTheme:p.withBuilderTheme,BuilderDropDown:(0,p.withBuilderTheme)((t=>e.React.createElement(s,Object.assign({},t,{withBuilderTheme:p.withBuilderTheme})))),BuilderPopper:(0,p.withBuilderTheme)(o.Popper),BuilderButton:(0,p.withBuilderTheme)(o.Button),selectionIsSelf:(e,t,o)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;const n=r.searchUtils.findLayoutItem(o,e);return!(!n||!n.widgetId||n.widgetId!==t)},selectionInCard:(t,o,n,i=!0)=>{if(!t||!t.layoutItemId||!t.layoutId)return!1;let s;if(i)s=r.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(n,t,o,(0,e.getAppStore)().getState().browserSizeMode);else{s=[];const i=r.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(n,t,o,e.BrowserSizeMode.Large)||[],p=r.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(n,t,o,e.BrowserSizeMode.Medium)||[],d=r.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(n,t,o,e.BrowserSizeMode.Small)||[];s=s.concat(i),s=s.concat(p),s=s.concat(d)}return s.length>0&&!!(null==s?void 0:s[0])}}})(),u})())}}}));